{% load static %}
<!doctype html>

<html lang="en">
<head>
  <meta charset="utf-8">

  <title>Home Automation project</title>
  <meta name="description" content="Home automation ">
  <meta name="author" content="MacleLabs">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BmbxuPwQa2lc/FVzBcNJ7UAyJxM6wuqIj61tLrc4wSX0szH/Ev+nYRRuWlolflfl" crossorigin="anonymous">
    <style>
        .navitem {
            width: 50px;
            height: 25px;
            text-align: center;
            border: gray;
<!--            background-color: #E8562A;-->
<!--            color: #fff;-->
            cursor: pointer;
            font-weight: bold;
            margin-left: 5px;
            margin-right: 5px;
            margin-top: 0%;
            margin-bottom: 0%
            display: inline-block;
        }


    .flex-parent {
    display: flex;
    }
    .jc-center {
    justify-content: center;
    }

    button.margin-right {
    margin-right: 10px;
    }
    </style>

</head>

<body onload="myFunction()">
<script>
    function myFunction(){
      var startColor_16="#FFFFFF";
      var pro=document.getElementById("button");
      var pro1=document.getElementById("button1");
      if (localStorage.startColor_16=="#7FFF00"){
      pro.style.backgroundColor = "#7FFF00";
      pro1.style.backgroundColor = "#FFFFFF";
      }
      if(localStorage.startColor_16=="#FF0000")
      {
      pro.style.backgroundColor = "#FFFFFF";
      pro1.style.backgroundColor = "#FF0000";
      }
      }
    function setColor(btn, btn1) {
        var property = document.getElementById(btn);
        var property1 = document.getElementById(btn1);
        if (btn == 'button') {
            property.style.backgroundColor = "#7FFF00";
            property1.style.backgroundColor = "#FFFFFF";
            localStorage.startColor_16= "#7FFF00";
        }
        if (btn == 'button1'){
            property.style.backgroundColor = "#FF0000";
            property1.style.backgroundColor = "#FFFFFF";
            localStorage.startColor_16= "#FF0000";
            }
            }

</script>
<div>

       <form  id="login-form"  method="post"
      action="{% url 'login_user' %}">
        <div class="form-group" style="display: flex; padding-left: 1050px;">
      {% csrf_token %}
      <input id="id_username" name="username"
      type="hidden" value="test" class="form-control" >
        <label for="exampleInputPassword1">Pin &nbsp;</label>

        <input type="password" style="height:30px"  maxlength="4" class="form-control" name="password" id="password" placeholder="Pin">
        &nbsp;   <input class="btn btn-primary" style="margin-bottom: 20px;" type="submit" value="Submit">
        {% if form.errors %}
                    <p class=" label label-danger">
                        Your username and password didn't match.
                        Please try again.
                    </p>
                {% endif %}
      </div> </form></div>
<div>
        <nav class="navbar navbar-light bg-light">
        <div class="container-fluid">
            <a class="navbar-brand" href="#">
            <img src="{% static 'logo3.png' %}" alt="" width="120" height="auto">
          </a>

       <div style="align-content: flex-end;" >
       <div class="flex-parent jc-center">
          <a class="navbar-brand" >
            <form action="index1" >
           <button type="submit"  style="background-color:transparent; border-color:transparent; ">
                  <img src="{% static 'bulb.png' %}" alt="" width="30" height="auto">
              </button>
                </form>
          </a>
          <a class="navbar-brand" >
             <form action="fan11">
             <button type="submit"  style="background-color:transparent; border-color:transparent; ">
                 <img src="{% static 'fan.png' %}" alt="" width="30" height="auto">
             </button>
              </form>

          </a>
          <a class="navbar-brand" href="#">
              <form action="garage1">
              <button type="submit" style="background-color:transparent; border-color:transparent; ">
            <img src="{% static 'gd.png' %}" alt="" width="30" height="auto">
                  </button>
              </form>
          </a>
          <a class="navbar-brand" href="#">
              <form action="camera1">
              <button type="submit"  style="background-color:transparent; border-color:transparent; ">
            <img src="{% static 'camera.png' %}" alt="" width="30" height="auto">
              </button>
              </form>
          </a>
          <a class="navbar-brand" href="#">
              <form action="music1">
              <button type="submit"  style="background-color:transparent; border-color:transparent; ">
            <img src="{% static 'music.png' %}" alt="" width="30" height="auto">
              </button>
          </form>
          </a></div>
       </div>
        </div>
      </nav>
        <div class="container"
             {% if user.is_authenticated %} style=" " {% else %}
             style="pointer-events:none;"
             {% endif %}>
             <img src="{% static 'gd.png' %}" alt="" width="60" height="auto" style="position: absolute; top: 35%; left: 15%;" >
            <div class="row justify-content-md-center">

                <div class="col-md-auto">
                    <button type="button" class="btn btn-outline-secondary">&nbsp; &nbsp; Garage &nbsp; &nbsp; </button>
                </div>

                <div class="col-md-auto" style="  display: inline-block;
                justify-content: space-between;">
                    <div class="form-check form-switch"  style="  display: flex; justify-content: space-between;">
                        <form action="garage" method="get">
                        <button class="navitem"type="submit" name="text" value="on" id="button" onclick="setColor('button','button1');" >OPEN</button>
                        <button class="navitem"type="submit" name="text" value="off" id="button1" onclick="setColor('button1','button');">CLOSE</button>
                        </form>
                      </div>
                </div>


   </div>
        </div>
</div>


    <footer class="footer" style="  position: fixed;
    left: 0;
    bottom: 0;
    width: 100%;
    color: white;">
    <div style="  display: flex;
    justify-content: space-between;">
        <div class="container" style="margin-bottom: 10px;">

          <span class="text-dark">{% now "D jS F Y H:i:s" %} GMT-0600  (Central Standard Time)</span>


          <button type="button"  class="btn btn-outline-dark" style="margin-left:400px; "><p>&nbsp; &nbsp;</p>  Exit <p id="result"> &nbsp; &nbsp; </p></button>




        </div>
    </div>
      </footer>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/js/bootstrap.bundle.min.js" integrity="sha384-b5kHyXgcpbZJO/tY9Ul7kGkf1S0CWuKcCD38l8YkeH8z8QjE0GmW1gYU5S9FOnJ0" crossorigin="anonymous"></script>
    <script
    src="https://code.jquery.com/jquery-3.5.1.min.js"
    integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="
    crossorigin="anonymous"></script>
    {%include 'session_security/all.html'%}
    <script>
<!--        function show(shown, hidden, hidden1, hidden2, hidden4) {-->
<!--            document.getElementById(shown).style.display='block';-->
<!--            document.getElementById(hidden).style.display='none';-->
<!--            return false;-->
<!--        }-->

      function fetchdata(){

        $.get("/session_security/ping/?idleFor", function(data){
                  // Display the returned data in browser
                  $("#result").html(data);
              });
      }
      $(document).ready(function(){
        setInterval(fetchdata,1000);



          });

$(function()
    {
      $('#flexSwitchCheckDefault1').change(function()
      {
        if ($(this).is(':checked')) {
           // Do something...
           searchWord = document.getElementById('flexSwitchCheckDefault1').value;
           window.location.href = "{% url 'view_detail' %}" + "?search="+searchWord;





           $(".input1").prop('disabled', false);

        }
        else{
          $(".input1").prop('disabled', true);

        }
        ;
      });
    });

$(function()
    {
      $('#flexSwitchCheckDefault2').change(function()
      {
        if ($(this).is(':checked')) {
           // Do something...
           $(".input2").prop('disabled', false);

        }
        else{
          $(".input2").prop('disabled', true);

        }
        ;
      });
    });

$(function()
    {
      $('#flexSwitchCheckDefault3').change(function()
      {
        if ($(this).is(':checked')) {
           // Do something...
           $(".input3").prop('disabled', false);

        }
        else{
          $(".input3").prop('disabled', true);

        }
        ;
      });
    });
    $(function()
    {
      $('#flexRadioDefaultHigh').change(function()
      {
        if ($(this).is(':checked')) {
           // Do something...
           $("input[type='radio'][id='flexRadioDefault1Med']").attr("checked", false);
           $("input[type='radio'][id='flexRadioDefault2Med']").attr("checked", false);
           $("input[type='radio'][id='flexRadioDefault3Med']").attr("checked", false);
           $("input[type='radio'][id='flexRadioDefault1Low']").attr("checked", false);
           $("input[type='radio'][id='flexRadioDefault2Low']").attr("checked", false);
           $("input[type='radio'][id='flexRadioDefault3Low']").attr("checked", false);
           $("input[type='radio'][id='flexRadioDefault1High']").attr("checked", true);
           $("input[type='radio'][id='flexRadioDefault2High']").attr("checked", true);
           $("input[type='radio'][id='flexRadioDefault3High']").attr("checked", true);




        }

        ;
      });
    });
    $(function()
    {
      $('#flexRadioDefaultMedium').change(function()
      {
        if ($(this).is(':checked')) {
           // Do something...
           $("input[type='radio'][id='flexRadioDefault1Low']").attr("checked", false);
           $("input[type='radio'][id='flexRadioDefault2Low']").attr("checked", false);
           $("input[type='radio'][id='flexRadioDefault3Low']").attr("checked", false);
           $("input[type='radio'][id='flexRadioDefault1High']").attr("checked", false);
           $("input[type='radio'][id='flexRadioDefault2High']").attr("checked", false);
           $("input[type='radio'][id='flexRadioDefault3High']").attr("checked", false);
           $("input[type='radio'][id='flexRadioDefault1Med']").attr("checked", true);
           $("input[type='radio'][id='flexRadioDefault2Med']").attr("checked", true);
           $("input[type='radio'][id='flexRadioDefault3Med']").attr("checked", true);




        }

        ;
      });
    });
    $(function()
    {
      $('#flexRadioDefaultLow').change(function()
      {
        if ($(this).is(':checked')) {
           // Do something...
           $("input[type='radio'][id='flexRadioDefault1High']").attr("checked", false);
           $("input[type='radio'][id='flexRadioDefault2High']").attr("checked", false);
           $("input[type='radio'][id='flexRadioDefault3High']").attr("checked", false);
           $("input[type='radio'][id='flexRadioDefault1Med']").attr("checked", false);
           $("input[type='radio'][id='flexRadioDefault2Med']").attr("checked", false);
           $("input[type='radio'][id='flexRadioDefault3Med']").attr("checked", false);
           $("input[type='radio'][id='flexRadioDefault1Low']").attr("checked", true);
           $("input[type='radio'][id='flexRadioDefault2Low']").attr("checked", true);
           $("input[type='radio'][id='flexRadioDefault3Low']").attr("checked", true);




        }


        ;
      });
    });
    $(function()
    {
      $('#flexSwitchCheckDefault4').change(function()
      {
        if ($(this).is(':checked')) {
           // Do something...
           $(".check").prop('checked', true);
           $(".input1").prop('disabled', false);
           $(".input2").prop('disabled', false);
           $(".input3").prop('disabled', false);

           $(".input4").prop('disabled', false);

        }
        else{
          $(".check").prop('checked', false);
          $(".input1").prop('disabled', true);
           $(".input2").prop('disabled', true);
           $(".input3").prop('disabled', true);
          $(".input4").prop('disabled', true);

        }
        ;
      });
    });


      </script>
</body>
</html>